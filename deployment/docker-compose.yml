version: '3.8'

services:
  app:
    # Use the pre-built image from Docker Hub instead of building locally
    image: co88dy/iosxe-upgrade-manager:latest
    container_name: IOSXE-Upgrade-Manager
    ports:
      - "5000:5000"
      - "80:5000"
    restart: unless-stopped
    # Persist data using named volumes instead of bind mounts
    volumes:
      - ios-xe-db:/app/app/database
      - ios-xe-repo:/app/app/repo
      - ios-xe-logs:/app/app/logs

volumes:
  ios-xe-db:
  ios-xe-repo:
  ios-xe-logs:
